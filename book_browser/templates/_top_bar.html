<header class="top-bar">
    <div class="left">
        <h2 onclick="location.href='{% url 'index' %}'">{{ user.username }}'s Library</h2>
        <h3 onclick="location.href='{% url 'logout' %}'">Logout</h3>
    </div>
    <div class="right">
        <h2 onclick="location.href='{% url 'browse' %}'">Browse</h2>
        <div class="separator"></div>
        <h2 class="search-toggle" onclick="toggleSearchBar()">Search</h2>
        <form id="search-form" method="GET" action="{% url 'search_results' %}" style="display: none;">
            <input type="text" name="q" placeholder="Search for books or authors...">
            <button class="md-btn" type="submit">Search</button>
        </form>
    </div>
</header>

<script>
function toggleSearchBar() {
    var searchForm = document.getElementById('search-form');
    if (searchForm.style.display === 'none' || searchForm.style.display === '') {
        searchForm.style.display = 'flex';
    } else {
        searchForm.style.display = 'none';
    }
}
</script>
